[tox]
envlist=py{27,35,36}
skipsdist=True

[base]
deps=
  pytest-cov
  pycodestyle
commands=
  -pycodestyle src tests
extras=
  tests

[testenv:circleci]
commands=
  {[base]commands}
  pytest --junit-xml=test-reports/junit.xml --cov-report=html:test-reports/coverage.html --cov=src
deps=
  {[base]deps}
extras=
  {[base]extras}
usedevelop=True

[testenv]
commands=
  {[base]commands}
  pytest --cov-report term-missing --cov=src
deps=
  {[base]deps}
extras=
  {[base]extras}
usedevelop=True
